Number.isNaN=Number.isNaN||function(e){return e!=e},window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();e.forEach(function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))}),this.appendChild(n)}})}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n},writable:!0,configurable:!0}),Array.from||(Array.from=function(){function l(e){return"function"==typeof e||"[object Function]"===t.call(e)}function c(e){return e=function(e){e=Number(e);return isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e}(e),Math.min(Math.max(e,0),n)}var t=Object.prototype.toString,n=Math.pow(2,53)-1;return function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!l(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var a,o=c(t.length),r=l(this)?Object(new this(o)):new Array(o),s=0;s<o;)a=t[s],r[s]=i?void 0===n?i(a,s):i.call(n,a,s):a,s+=1;return r.length=o,r}}()),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null}),function(e){$("[data-js=gtm-init]").load("/"+e+"/user/gtm")}(window.blizzard.urlLocale),function(e){e.app=e.app||new function(){this.extend=function(e){_.merge(this,e)}}}(this),function(e){function t(){this.extend=function(e){_.merge(this,e)}}(e=e).overwatch=e.overwatch instanceof t?e.overwatch:new t}(this),function(e){var o;(e=(o=e).overwatch).extend({util:new function(){var a=this,e=o.document,t=o.document.body;this.width=function(){return o.innerWidth||e.documentElement.clientWidth||t.clientWidth},this.height=function(){return o.innerHeight||e.documentElement.clientHeight||t.clientHeight},this.sizesArray=[{name:"xs",min:0,max:479},{name:"sm",min:480,max:639},{name:"md",min:640,max:959},{name:"lg",min:960,max:1279},{name:"xl",min:1280,max:1599},{name:"xxl",min:1600,max:1/0}],this.evaluateSize=function(e){var t=a.width();return t>=e.min&&t<e.max},this.sizes=function(){return a.sizesArray.reduce(function(e,t){return e[t.name]=a.evaluateSize(t),e},{})},this.mobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(window.navigator.userAgent)},this.touch=function(){return"ontouchstart"in window||0<window.navigator.MaxTouchPoints||0<window.navigator.msMaxTouchPoints},this.vendor=function(){var n=null,i=e.documentElement.style;return _.each(["webkit","Moz","ms","O"],function(e,t){void 0!==i[e+"Transform"]&&(n=e)}),n},this.size=function(){var n=null;return _.each(a.sizes(),function(e,t){e&&(n=t)}),n},this.isSizeAtLeast=function(e){e=_.find(a.sizesArray,{name:e});return a.width()>=e.min},this.ie=function(){var e=o.navigator.userAgent,t=/MSIE \d/.test(e),e=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.test(e);return t||e},this.browser=function(){var e=o.navigator.userAgent,t=o.navigator.vendor,n=/gecko\/\d/i.test(e),i=/Chrome\//.test(e),t=/Apple Computer/.test(t),e=/Edge/.test(e);return{ie:a.ie(),gecko:n,chrome:i,safari:t,edge:e}},this.posX=function(){return o.pageXOffset||o.scrollX||t.scrollLeft||e.documentElement.scrollLeft},this.posY=function(){return o.pageYOffset||o.scrollY||t.scrollTop||e.documentElement.scrollTop},this.scroll=function(){return t.scrollHeight>t.clientHeight&&"fixed"!==t.style.position},this.vw=function(e){return a.width()/100*e},this.vh=function(e){return a.height()/100*e},this.addLoadEvent=function(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t(),e()}},this.debounce=function(i,a,o){var r;return function(){var e=this,t=arguments,n=o&&!r;clearTimeout(r),r=setTimeout(function(){r=null,o||i.apply(e,t)},a),n&&i.apply(e,t)}},this.clamp=function(e,t,n){return e<=t?t:n<=e?n:e}}}),e.utils=e.utils||e.util}(this),function(e){var t,i;try{t=e.localStorage}catch(e){t=null,console.log(e,"localStorage unavaliable")}e=e.overwatch,i=t,e.extend({storage:new function(){var n=this;this.available=function(){return!!i},this.set=function(e,t){n.available()?i.setItem(e,JSON.stringify(t)):console.log("storage.set failed, localStorage unavaliable")},this.get=function(e){if(n.available())return JSON.parse(i.getItem(e));console.log("storage.get failed, localStorage unavaliable")},this.remove=function(e){n.available()?i.removeItem(e):console.log("storage.remove failed, localStorage unavaliable")},this.clear=function(){n.available()?i.clear():console.log("storage.clear failed, localStorage unavaliable")}}}),e.storage}(this),function(e,t){"function"==typeof define&&define.amd?define("overwatch-ability-showcase",["overwatch","jQuery"],t):"object"==typeof exports?module.exports=t(require("overwatch","jQuery")):e.overwatch.AbilityShowcase=t(e.overwatch,e.jQuery)}(this,function(e,n){var i="[data-js=progress-svg]",a="is-active";function t(e){var e=n(e);this.$videos=e.find("video"),this.videos=this.$videos.get(),this.$abilityName=e.find("[data-js=abilityName]"),this.$abilityButtons=e.find("[data-js=abilityShowcaseButton]"),this.$abilityButtonsList=e.find("[data-js=ability-button-list]"),this.$currentProgressSvg=null,this.currentVideo=null,this.abilities=(e=this.$abilityButtons,n.map(e,function(e){return{name:n(e).data("ability-name")}})),this.length=this.videos.length,this.currentIndex=0,this.nextIndex=null}return t.prototype.init=function(){var t=this;t.$videos.on("ended",function(){t.play(t.getNextIndex())}),t.$videos.on("playing",function(){var e=1e3*t.currentVideo.duration;t.$currentProgressSvg.velocity({strokeDashoffset:[0,314]},e,"linear")}),t.$videos.on("timeupdate",function(){var e;null===t.nextIndex&&1<t.length&&.5<(e=this).currentTime/e.duration&&t.queue(t.getNextIndex())}),t.$abilityButtonsList.on("click","li",function(){var e=n(this).index();t.play(e)}),t.load(t.currentIndex),t.play(t.currentIndex)},t.prototype.getNextIndex=function(){return null!==this.nextIndex?this.nextIndex:this.currentIndex+1},t.prototype.displayPlay=function(e){e%=this.length;var t=this.abilities[e];this.$abilityName.text(t.name),this.$abilityButtons.eq(e).addClass(a),this.$videos.eq(e).addClass(a),this.currentVideo=this.videos[e],this.$currentProgressSvg=this.$abilityButtons.eq(e).find(i)},t.prototype.displayStop=function(e){e%=this.length,this.$abilityButtons.eq(e).removeClass(a),this.$videos.eq(e).removeClass(a),this.$abilityButtons.eq(e).find(i).velocity("stop").velocity({strokeDashoffset:314},0)},t.prototype.play=function(e){this.stop(this.currentIndex),this.currentIndex=void 0===e?this.currentIndex:e%this.length,this.reset(this.currentIndex),this._play(this.currentIndex),this.nextIndex=null},t.prototype.stop=function(e){void 0===e?this._stopAll():(e%=this.length,this.videos[e].pause(),this.displayStop(e))},t.prototype.reset=function(e){e%=this.length,4===this.videos[e].readyState&&(this.videos[e].currentTime=0)},t.prototype.queue=function(e){null===this.nextIndex&&(e%=this.length,this.nextIndex=e,this.load(e))},t.prototype.load=function(e){e%=this.length,this.videos[e].load()},t.prototype._play=function(e){e%=this.length,this.videos[e].play(),this.displayPlay(e)},t.prototype._stopAll=function(){for(var e=0;e<this.length;e++)this.stop(e)},e.extend({AbilityShowcase:t}),t}),function(e){(e=e.overwatch).extend({animate:new function(){this.slideInLeft=function(e,t){t=_.merge({duration:300,easing:"easeOutCirc"},t),e.velocity({translateX:["+=100%","-100%"],translateZ:0},t)},this.slideOutLeft=function(e,t){t=_.merge({duration:300,easing:"easeOutCirc"},t),e.velocity({translateX:["-=100%",0],translateZ:0},t)}}}),e.animate}(this),function(){var t=window.$;t(".js-button-group").on("click",".button",function(e){t(this).siblings().removeClass("is-active"),t(this).addClass("is-active")})}(),function(e){function u(e,r,s){return function(e){var t,n,i,a=r.filter("."+p.ACTIVE_STATE),o=h(this);return r.removeClass(p.ACTIVE_STATE),r.removeClass(p.ANIMATION_COMPLETE),o.removeClass(p.PRE_ACTIVE_STATE),o.addClass(p.ACTIVE_STATE),a.addClass(p.PREVIOUS_ACTIVE),t=a,n=o,(i=s).beforeFadeOut(t,n,f),i.fadeOut(t.find(".CarouselSplit-transparentContent")).then(function(){i.beforeResize(t,n,f),i.shrink(t)}).then(function(){return e=o,t=a,(n=s).grow(e).then(function(){return n.afterResize(t,e,f),n.fadeIn(e.find(".CarouselSplit-transparentContent"))}).then(function(){n.afterFadeIn(t,e,f)});var e,t,n}).then(function(){a.removeClass(p.PREVIOUS_ACTIVE),o.addClass(p.ANIMATION_COMPLETE)})}}function d(e){var t=h(this);clearTimeout(t.data("hover-intent-timeout-id")),t.removeClass(p.PRE_ACTIVE_STATE)}var t,h,p,v,f,n;e.overwatch.CarouselSplit=(t=e.overwatch,h=e.jQuery,p={CAROUSEL:"CarouselSplit",CAROUSEL_SLANTED_MODIFIER:"CarouselSplit--slanted",CAROUSEL_ITEM:"CarouselSplit-item",ACTIVE_STATE:"is-active",PREVIOUS_ACTIVE:"was-active",PRE_ACTIVE_STATE:"is-pre-active",ANIMATION_COMPLETE:"is-animation-complete"},v={CAROUSEL:"[data-js-carousel-split]",CAROUSEL_ITEM:".CarouselSplit-item",CAROUSEL_ITEM_INACTIVE:".CarouselSplit-item:not(.is-active)"},f={FADE:100,RESIZE:350,DELAY:0,HOVER_DELAY_FAST:200,HOVER_DELAY_SLOW:300},n={beforeFadeOut:_.noop,beforeResize:_.noop,afterFadeIn:_.noop,afterResize:_.noop,fadeOut:function(e){return h.Velocity.animate(e,{opacity:0},{duration:f.FADE,delay:f.DELAY})},fadeIn:function(e){return h.Velocity.animate(e,{opacity:1},{duration:f.FADE})},shrink:function(e){return h.Velocity.animate(e,{flexGrow:1},{duration:f.RESIZE,delay:50,easing:"easeInOutCubic"})},grow:function(e){return h.Velocity.animate(e,{flexGrow:4},{duration:f.RESIZE,delay:50,easing:"easeInOutCubic"})},delaySlow:!1},{init:function(s){s=_.merge(n,s);var e=h(v.CAROUSEL),l=t.util.touch(),c=l?"click":"mouseenter";e.each(function(e,t){var i,a,o,r,t=h(t),n=t.find(v.CAROUSEL_ITEM),n=l?u(0,n,s):(o=u(0,i=n,a=s),r=Promise.resolve(),function(){var e=h(this),t=o.bind(this),n=(i.removeClass(p.PRE_ACTIVE_STATE),e.addClass(p.PRE_ACTIVE_STATE),setTimeout(function(){r=r.then(t)},a.delaySlow?f.HOVER_DELAY_SLOW:f.HOVER_DELAY_FAST));e.data("hover-intent-timeout-id",n)});t.on(c,v.CAROUSEL_ITEM_INACTIVE,n),l||t.on("mouseleave",v.CAROUSEL_ITEM_INACTIVE,d)})}})}(this),function(e){var a;a=e.jQuery,e.overwatch.extend({carousel:{defaults:{numToShow:1,numToSlide:1,animationDuration:500,autoScroll:!1,timePerSlide:5e3,loop:!0,pagination:!0,slideWidth:0,gutter:12},item_width:0,klass:"carousel",mask_klass:"carousel-mask",wrapper_klass:"carousel-wrapper",slide_klass:"carouse-slide",pagination_klass:"carousel-pagination",page_klass:"carousel-page",init:function(e,t){this.options=_.merge({},this.defaults,t);t=this.options;this.element=e,this.setup(),this.calculateDimensions(),this.addElements(),this.setupEvents(),t.autoScroll&&this.startSliding()},setup:function(){var e=this.options;this.element.addClass(this.klass),this.defineObjects(),e.pagination&&(this.pagination=this.buildPagination()),e.slideWidth&&(this.item_width=e.slideWidth)},defineObjects:function(){var e=this.options;this.wrapper=this.element.children("ul").addClass(this.wrapper_klass),this.items=this.wrapper.children("li"),this.pages=Math.ceil(this.items.length/e.numToSlide),this.mask=a("<div/>").addClass(this.mask_klass),this.duration=e.animationDuration},buildPagination:function(){for(var e=this.options,t=1,n=a("<ul/>").attr("class",this.pagination_klass),i="";t<=this.pages-(e.numToShow-e.numToSlide);)i+='<li class="'+this.page_klass,1===t&&(i+=" is-active"),i=i+'" data-page="'+t+'">&nbsp</li>',t++;return n.html(i),n},calculateDimensions:function(){var e=this.options;this.items.addClass(this.slide_klass),1===e.numToShow?this.items.css("margin",0):this.items.css("margin","0 "+e.gutter+"px"),0===this.item_width&&(this.item_width=this.items.first().outerWidth(!0)),this.maxHeight=this.items.first().outerHeight(!0),this.mask.css({width:this.item_width*e.numToShow,height:this.maxHeight}),this.wrapper.css("width",this.item_width*this.items.length)},addElements:function(){var e=this.options;this.mask=this.wrapper.wrap(this.mask).parent(),e.pagination&&this.element.append(this.pagination)},setupEvents:function(){this.element.on("click","."+this.page_klass,{self:this},this.pageHandler)},pageHandler:function(e){var t=e.data.self,n=a(this);t.options;e.preventDefault(),t.gotoPage=n.data("page"),t.slide()},slide:function(e,t){var n=this;this.stopSliding(),e&&"number"==typeof e&&(this.gotoPage=e),"number"==typeof t&&(this.duration=t),this.slideAmount=this.getSlideAmount(),this.wrapper.velocity({left:this.slideAmount},this.duration,function(){n.callback()})},callback:function(){var e,t=this.options;t.pagination&&((e=this.pagination.find("li")).removeClass("is-active"),e=e.get(this.gotoPage-1),a(e).addClass("is-active")),this.duration=t.animationDuration},getSlideAmount:function(){var e=this.options;return-(this.item_width*e.numToSlide*(this.gotoPage-1))},startSliding:function(e){var t=this,n=t.options;e&&"number"==typeof e&&(n.timePerSlide=e),this.interval=setInterval(function(){t.gotoPage++,t.slide()},n.timePerSlide)},stopSliding:function(){clearInterval(this.interval)}}})}(this),jQuery,$.fn.dropdown=function(){return this.each(function(){var e,t,n=this,i=$(n),a=$("<div />",{class:"dropdown",style:"width:"+i.outerWidth()+"px"}),o=i.attr("class")?i.attr("class").replace("dropdown-select-element",""):"";a.addClass(o),i.removeClass(o),a=i.wrap(a).parent(),t=$("option:selected",n).text(),e=$("<span />",{class:"dropdown-text",text:t}).prependTo(a),i.addClass("dropdown-select-element"),i.css("height",a.outerHeight()),i.on("change",function(){t=$("option:selected",n).text(),e.text(t)})})},function(e){var a,o;a=e.jQuery,e=e.overwatch,o=[],e.extend({endorsementIcon:{init:function(){this.elements=a('[data-js="endorsement-border"]');var i=this;this.elements.each(function(e){var t=parseFloat(a(this).data("value")),n=a(this).data("id");o[e]={},o[e].id=n,o[e].value=t,o[e].transform=0===e?0:i.getTransform(o[e-1].value,o[e-1].transform),a(this).css({"stroke-dasharray":i.getDashArray(t)+" 100",transform:"rotate("+o[e].transform+"deg)"})})},getDashArray:function(e){return 100*e-1},getTransform:function(e,t){return 360*e+(t=t||0)}}})}(this),function(e){var a,o,r;e.overwatch.EventMapCarousel=(e.overwatch,a=e.jQuery,o={CAROUSEL:"EventMapCarousel",CAROUSEL_SLANTED_MODIFIER:"EventMapCarousel--slanted",CAROUSEL_ITEM:"EventMapCarousel-item",HIGHLIGHT_MODIFIER:"EventMapCarousel-item--highlighted"},r={CAROUSEL:"[data-js-carousel-split]",CAROUSEL_ITEM:".EventMapCarousel-item"},{init:function(){a(r.CAROUSEL).each(function(e,t){var n,t=a(t),i=t.find(r.CAROUSEL_ITEM);t.on("mouseenter click",r.CAROUSEL_ITEM,(n=i,function(e){n.removeClass(o.HIGHLIGHT_MODIFIER),a(this).addClass(o.HIGHLIGHT_MODIFIER)}))})}})}(this),function(e,t){"function"==typeof define&&define.amd?define("overwatch-hero-selector",["overwatch","Shuffle"],t):"object"==typeof exports?module.exports=t(require("overwatch","Shuffle")):e.overwatch.HeroSelector=t(e.overwatch,e.jQuery,e.Shuffle)}(this,function(e,t,i){function n(){this.init=function(e){var t=this;t.$grid=e.$container,t.$navigationLinks=e.$navigationLinks,t.itemSelector=e.itemSelector,t.shuffleInstance=new i(t.$grid,{itemSelector:t.itemSelector,speed:200,staggerAmount:0,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"});for(var n=0;n<t.$navigationLinks.length;n++)t.$navigationLinks[n].addEventListener("click",function(e){e=e.currentTarget.getAttribute("data-filter-key");t.filter(e)},!0)}}return n.prototype.filter=function(a){window.location.hash=a.toLowerCase();for(var e=0;e<this.$navigationLinks.length;e++){var t=this.$navigationLinks[e];t.getAttribute("data-filter-key")===a?t.parentNode.classList.add("active"):t.parentNode.classList.remove("active")}for(var n=document.querySelectorAll(this.itemSelector),e=0;e<n.length;e++){var i=n[e],o=i.childNodes[0];"all"===a?(o.classList.remove("m-subdued"),o.classList.remove("m-selected")):JSON.parse(i.getAttribute("data-groups"))[0]===a?(o.classList.remove("m-subdued"),o.classList.add("m-selected")):(o.classList.remove("m-selected"),o.classList.add("m-subdued"))}this.shuffleInstance.sort({compare:function(e,t){var n=JSON.parse(e.element.getAttribute("data-groups"))[0],i=JSON.parse(t.element.getAttribute("data-groups"))[0];return n===a&&i!==a?-1:i===a&&n!==a?1:parseInt(e.element.getAttribute("data-order"),10)-parseInt(t.element.getAttribute("data-order"),10)}})},new n}),function(e){var i;i=e.jQuery,e.overwatch.extend({notification:{init:function(){this.showNotificitions(),this.setupDismissmal()},showNotificitions:function(){i("[data-js=notification]").each(function(){var e=i(this).data("id");0<=document.cookie.indexOf(e+"=dismissed")||i(this).show()})},setupDismissmal:function(){i("[data-js=notification-dismiss]").on("click",function(e){var t=i(this).closest("[data-js=notification]").hide().data("id"),n=new Date,n=new Date(n.setDate(n.getDate()+30));document.cookie=t+"=dismissed; expires="+n})}}})}(this),function(e,t){"function"==typeof define&&define.amd?define("overwatch-progress",["overwatch","jQuery"],t):"object"==typeof exports?module.exports=t(require("overwatch","jQuery")):e.overwatch.Progress=t(e.overwatch,e.jQuery)}(this,function(e,i){i("[data-js=progressBar]").each(function(e,t){var t=i(t),n=100*(1-parseFloat(t.data("overwatch-progress-percent")))+"%";"0%"===n&&(n=0),t.hasClass("m-animated")?t.find("[data-js=bar]").velocity({right:n},{easing:"ease",duration:2e3}):t.find("[data-js=bar]").css("right",n)})}),function(e){var o,t;o=e.jQuery,(t=e.overwatch).extend({slideout:{cache:{},init:function(){var i=this,e=o('[data-js="slideout-container"]');this.slideoutHandles=o('[data-js="slideout-handle"]'),e.each(function(){var e=o(this);i.cache[e.data("slideoutId")]={element:e},e.addClass("Slideout-container Slideout-container--noTransition"),e.removeClass("Slideout-container--noTransition")}),this.slideoutHandles.each(function(){var e=o(this),t=e.text(),n=i.cache[e.data("slideoutId")];n.openPrompt=t,n.closePrompt=e.data("slideoutCloseText")}),this.setupEventHandlers()},setupClickEventHandler:function(){var a=this;this.slideoutHandles.on("click",function(e){e.preventDefault();var e=o(this),t=e.hasClass("is-active"),n=e.data("slideoutId"),i=a.cache[e.data("slideoutId")];e.toggleClass("is-active"),t?(i.closePrompt&&e.text(a.cache[n].openPrompt),a.closeSlideout(n)):(i.closePrompt&&e.text(a.cache[n].closePrompt),a.openSlideout(n))})},setupResizeEventHandler:function(){var e=this;o(window).on("resize",t.util.debounce(function(){for(key in e.cache)e.cache[key].element.hasClass("is-open")&&e.updateSlideoutHeight(key)}))},setupEventHandlers:function(){this.setupClickEventHandler(),this.setupResizeEventHandler()},openSlideout:function(t){o('[data-js="slideout-handle"][data-slideout-id="'+t+'"]').addClass("is-active");var e=this.cache[t].element;e.addClass("is-open"),e.one("transitionend",function(e){o(document.body).trigger("slideout:open",{event:e,id:t})}),this.updateSlideoutHeight(t)},closeSlideout:function(t){o('[data-js="slideout-handle"][data-slideout-id="'+t+'"]').removeClass("is-active");var e=this.cache[t].element;e.removeClass("is-open"),e.one("transitionend",function(e){o(document.body).trigger("slideout:close",{event:e,id:t})}),e.css("maxHeight","")},updateSlideoutHeight:function(e){var e=this.cache[e].element,t=e.get(0).scrollHeight;e.css("maxHeight",t)}}})}(this),function(e){function t(e,t){this.$spotlight=e,this.id=this.$spotlight.getAttribute("data-id"),this.$spotlightList=document.querySelector('[data-js="spotlight-list"][data-id="'+this.id+'"]'),this.$image=this.$spotlight.querySelector('[data-js="'+i+'"]'),this.$header=this.$spotlight.querySelector('[data-js="spotlight-header"]'),this.$caption=this.$spotlight.querySelector('[data-js="spotlight-caption"]'),this.$activators=this.$spotlightList.querySelectorAll('[data-js="'+a+'"]'),this.id||console.warn(this.$spotlight+" is missing an id. Please add the data-id attribute to the splotlight-list and spotlight"),this.$header||console.warn("Spotlight could not find a header element inside: "+e),this.$image||console.warn("Spotlight could not find a holder element inside: "+e),this.preselectSpotlight(this.$spotlightList);e=r.mobile()&&r.touch();!t&&e||this.setupEventHandlers()}var n,i,a,o,r,s;n=e.overwatch,e.jQuery,i="spotlight-image",a="spotlight-activator",o="is-active",r=n.util,s=!1,t.prototype.preloadSpotlightImages=function(){for(var e=0;e<this.$activators.length;e++){var t=this.$activators[e],t=encodeURI(t.getAttribute("data-"+i));(new Image).src=t}},t.prototype.preselectSpotlight=function(e){e=e.querySelector("[data-js="+a+"].is-active");this.loadData(e)},t.prototype.setupEventHandlers=function(){for(var i=this,t=0;t<i.$activators.length;t++)!function(){var n=i.$activators[t];function e(e){var t=n.parentNode.querySelector("."+o);t&&t.classList.remove(o),n.classList.add(o),i.loadData(n),s||i.preloadSpotlightImages(),s=!0}n.addEventListener("mouseover",e,!0),n.addEventListener("focus",e,!0)}()},t.prototype.paragraphs=function(e,t,n){for(var i="",a=e.split(n=n||/<br ?\/?>/gi),o=0;o<a.length;o++){var r=a[o];i+=t?"<p>"+window.unescape(r)+"</p>":"<p>"+r+"</p>"}return i},t.prototype.setHeader=function(e){this.$header.textContent=e},t.prototype.setCaption=function(e){this.$caption.innerHTML=this.paragraphs(e)},t.prototype.loadData=function(e){var t=e.getAttribute("data-spotlight-image"),t=encodeURI(t),n=e.getAttribute("data-spotlight-header"),e=e.getAttribute("data-spotlight-caption");this._setImage(t),this.setHeader(n),this.setCaption(e)},t.prototype._setImage=function(e,t){this.$image.style.backgroundImage="url("+encodeURI(e)+")","function"==typeof t&&t()},t.prototype._startTransition=function(e){this.$spotlight.velocity("stop").velocity({opacity:0},{duration:100,easing:"easeOutQuad",complete:function(){"function"==typeof e&&e()}})},t.prototype._endTransition=function(e){this.$spotlight.velocity({opacity:[1,0]},{duration:100,easing:"easeOutQuad",complete:function(){"function"==typeof e&&e()}})},n.extend({Spotlight:t})}(this),function(e){var g;(g=e.overwatch).extend({Tag:function(e,t,n){var i=this,s={},a={},o=g.storage;function r(){return this.exec<1}function l(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function c(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function u(){return["tags",l(e)].join(".")}function d(){return o.get(u())||{}}function h(){for(var e=d(),t=Object.keys(s),n=0;n<t.length;n++){var i=s[t[n]];e[t[n]]={created:i.created,exec:i.exec}}o.set(u(),e)}function p(e){var e=l(e),t=s[e],e=a[e];(t.rule||r).call(t)&&(e.call(t,t.$elem,t.exec,t.created),t.exec++,h())}function v(e){for(var t=document.querySelectorAll("["+c(e)+"]"),n=d(),i=0;i<t.length;i++){var a=t[i],o=a.getAttribute(c(e)),r=n[l(o)];s[l(o)]=(o=r,{$elem:$(a),created:o&&o.created||(new Date).getTime(),exec:o&&o.exec||0})}}function f(e){for(var t=Object.keys(e),n=0;n<t.length;n++)!function(e,t){var e=l(e),n=s[e];n&&t.rule&&(n.rule=t.rule),n&&t.callback&&(a[e]=t.callback,n.trigger=function(){p(e)},n.trigger())}(t[n],e[t[n]])}function m(e){e instanceof Function&&(r=e)}n&&n.clearStorage&&o.remove(u()),n&&n.defaultRule&&m(n.defaultRule),v(e),f(t),g.tags||(g.tags={}),(g.tags[l(e)]=i).cache=s,i.add=f,i.trigger=p,i.setDefaultRule=m,h()}}),g.Tag}(this),function(e){var i,a;e=e.overwatch,i=e.utils,a=$(window),e.extend({tooltip:{activeHandle:null,init:function(){this.generateTooltip(),this.setupEvents()},generateTooltip:function(){this.tooltip=$('<div id="tooltip" class="Tooltip"><div class="Tooltip-arrow"></div><div class="Tooltip-body"></div></div>'),this.tooltip.appendTo($(document.body)),this.tooltipText=this.tooltip.find(".Tooltip-body"),this.tooltipArrow=this.tooltip.find(".Tooltip-arrow")},setupEvents:function(){var n=this;$("[data-tooltip]").on("click",function(e){var t=$(this),t=(n.activeHandle=t,$("#"+t.data("tooltip")).html());n.populateTooltip(t),n.tooltip.show(),n.positionTooltip()}),$(document.body).on("click",function(e){0===$(e.target).closest("[data-tooltip]").length&&n.tooltip.hide()}),a.resize(_.debounce(function(){n.activeHandle&&n.positionTooltip()},500))},getHandleInfo:function(){var e=this.activeHandle.offset();return{left:e.left,top:e.top,width:this.activeHandle.outerWidth(),height:this.activeHandle.outerHeight()}},getTooltipSize:function(){return{width:this.tooltip.outerWidth(),height:this.tooltip.outerHeight()+this.tooltipArrow.outerHeight()/2}},getLeftPosition:function(e,t){var n=$(document.body).outerWidth()-t.width,e=e.left+e.width/2-t.width/2,t=i.clamp(e,0,n);return this.tooltipOffset=e-t,t},getTopPosition:function(e,t){return a.scrollTop()+a.height()/2<e.top+e.height/2?e.top-t.height:e.top+e.height},positionTooltip:function(){this.tooltip.css({left:0,top:0});var e=this.getHandleInfo(),t=this.getTooltipSize();this.tooltip.css({left:this.getLeftPosition(e,t),top:e.top-t.height}),this.positionTooltipArrow()},positionTooltipArrow:function(){var e=0===this.tooltipOffset?"50%":"calc(50% + "+this.tooltipOffset+"px)";this.tooltipArrow.css({left:e})},populateTooltip:function(e){this.tooltipText.html(e)}}}),e.tooltip}(this),function(e){(e=e.overwatch).extend({waypoint:new function(){}}),e.waypoint}(this),function(e){function o(e,t,n){return(e-t)/(n-t)}function r(e,t,n){return(n-t)*e+t}(e=e.app).extend({mathUtil:{norm:o,lerp:r,mapLerp:function(e,t,n,i,a){return r(o(e,t,n),i,a)},getRelativeValuesForAnElement:function(e){var t=e.outerHeight(),e=e.offset().top,n=e+t;return{sourceMin:e-overwatch.util.height(),sourceMax:n,destMin:0,destMax:t}}}}),e.mathUtil}(this),function(e){var u;(u=e.app).extend({util:new function(){this.shuffleArray=function(e){for(var t,n,i=e.length;0!==i;)n=Math.floor(Math.random()*i),t=e[--i],e[i]=e[n],e[n]=t;return e},this.removeWhitespace=function(e){return e.replace(/\s/g,"")},this.now=Date.now||function(){return(new Date).getTime()},this.once=function(e){var t;return function(){return e&&(t=e.apply(this,arguments),e=null),t}},this.debounce=function(t,n,i){var a,o,r,s,l,c=function(){var e=u.util.now()-s;e<n&&0<=e?a=setTimeout(c,n-e):(a=null,i||(l=t.apply(r,o),a||(r=o=null)))};return function(){r=this,o=arguments,s=u.util.now();var e=i&&!a;return a=a||setTimeout(c,n),e&&(l=t.apply(r,o),r=o=null),l}},this.VideoPoster=function(e){for(var t=e.length-1;0<=t;t--){var n=$(e[t]),i=n.find("video").attr("poster");n.css("background-image","url("+i+")")}},this.$sortElements=function(e,t){var n=document.createDocumentFragment(),i=e[0].parentNode;e.sort(t);for(var a=0;a<e.length;a++)n.appendChild(e[a]);i.appendChild(n)},this.getNormalizedWindowScrollTop=function(e){return Math.max(e.scrollTop(),0)},this.fullscreen=function(){var e=document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement,t=document.documentElement;e?fullscreenExit():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.requestFullscreen&&t.requestFullscreen()},this.fullscreenExit=function(){document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen&&document.exitFullscreen()}}}),u.util}(this),window.overwatch=window.overwatch||{},window.overwatch.BuyMediator=function(){var r={},i=null,a=null,o=null,s=null,l=null;function t(e,t,n){n=n||this,(r[e]=r[e]||[]).push({context:n,callback:t})}return{init:function(e){i=e.Sku,a=e.Country,o=e.Platform,s=e.PrimaryRetailer,l=e.SecondaryRetailer,t(i.eventNameChange,function(e){o.updateList(e.id);var t=o.getCurrent(),n=a.getCurrent();s.setCurrentRetailerByPlatformAndSkuIdAndCountryCode(t,e.id,n),l.setCurrentRetailersByCountryCodeAndSkuIdAndPlatform(n,e.id,t)}),t(a.eventNameChange,function(e){i.updateList(e)}),t(o.eventNameChange,function(e){var t=i.getCurrent(),n=a.getCurrent();s.setCurrentRetailerByPlatformAndSkuIdAndCountryCode(e,t.id,n),l.setCurrentRetailersByCountryCodeAndSkuIdAndPlatform(n,t.id,e)}),t(s.eventNameChange,function(e){}),t(l.eventNameChange,function(e){})},on:t,publish:function(e){for(var t=r[e]||[],n=Array.prototype.slice.call(arguments,1),i=0;i<t.length;i++){var a=t[i],o=a.context;a.callback.apply(o,n)}}}}(window.overwatch),window.overwatch=window.overwatch||{},window.overwatch.CountryModel={Mediator:null,eventNameChange:null,current:null,$doc:$(document),init:function(e){this.Mediator=e.Mediator,this.eventNameChange=e.eventNameChange,this.current=e.current},getCurrent:function(){return this.current},setCurrent:function(e){this.current=e,this._publish()},_publish:function(){this.Mediator.publish(this.eventNameChange,this.current)}},function(l,c,u){overwatch.buy=overwatch.buy||{},overwatch.buy.navigation=overwatch.buy.navigation||{},overwatch.buy.navigation.init=function(){var n=u(".edition-select"),i=n.children(".active"),a=i.children(".active-splash"),o=l.overwatch.BuyMediator,t=l.overwatch.util;function r(){var e=t.width();return 2560<e?(e-2560)/2:0}function s(e){var e=e||{duration:0},t=i[0].getBoundingClientRect();a.velocity({left:t.left-r(),width:i[0].clientWidth},e)}void 0!==a[0]&&u(c).on("ready",function(e){var t=a[0].getBoundingClientRect();a.velocity({left:t.left-r(),width:a[0].clientWidth},{duration:0,complete:function(){a=a.appendTo(n.parent())}}),o.on("ow.sku.change",function(e){i=n.find("[data-sku-change='"+e.id+"']"),s({duration:200,easing:"easeOutQuad"})}),u(l).on("resize",function(){s()}),u(c).on("ow.buy.form.show ow.buy.form.hide",function(){s()})})}}(window,window.document,window.jQuery),window.overwatch=window.overwatch||{},window.overwatch.PlatformModel={Mediator:null,eventNameChange:null,defaultList:null,currentList:null,current:null,defaultPlatform:null,$doc:$(document),platformExceptions:null,init:function(e){this.Mediator=e.Mediator,this.eventNameChange=e.eventNameChange,this.defaultList=e.defaultPlatformList,this.currentList=this.defaultList,this.current=e.current,this.defaultPlatform=e.defaultPlatform,this.platformExceptions=e.platformExceptions},updateList:function(e){var t=this.platformExceptions[e];this.currentList=t?this.defaultList.filter(function(e){return-1===t.indexOf(e)}):this.defaultList,-1===this.currentList.indexOf(this.current)&&this.setCurrent(this.defaultPlatform)},getList:function(){return this.currentList},getUnavailableList:function(){var t=this.currentList;return this.defaultList.filter(function(e){return-1===t.indexOf(e)})},getCurrent:function(){return this.current},setCurrent:function(e){this.current=e,this._publish()},_publish:function(){this.Mediator.publish(this.eventNameChange,this.current)}},window.overwatch=window.overwatch||{},window.overwatch.PrimaryRetailerModel={Mediator:null,eventNameChange:null,retailerMap:null,currentRetailer:null,platformMap:null,$doc:$(document),init:function(e){this.eventNameChange=e.eventNameChange,this.retailerMap=e.retailerMap,this.currentRetailer=e.currentRetailer,this.platformMap=e.platformMap,this.Mediator=e.Mediator},getCurrentRetailer:function(){return this.currentRetailer},setCurrentRetailerByPlatformAndSkuIdAndCountryCode:function(e,t,n){var i=null,a=this.platformMap[e].shopName||this.platformMap[e].name,e=this.retailerMap[e]||{},t=this._getRetailerUrl(e,t,n);t&&(i={name:a,platform:e.platform,href:t}),this.setCurrentRetailer(i)},setCurrentRetailer:function(e){this.currentRetailer=e,this._publish()},_getRetailerUrl:function(e,t,n){var i=null;return"ORIGINS"===t&&e.countryLinkOrigins&&e.countryLinkOrigins[n]?i=e.countryLinkOrigins[n]:"BASIC"===t&&e.countryLinkBasic&&e.countryLinkBasic[n]?i=e.countryLinkBasic[n]:"COLLECTORS"===t&&e.countryLinkCollectors&&e.countryLinkCollectors[n]?i=e.countryLinkCollectors[n]:e.skuLinks&&(i=e.skuLinks[t]),i},_publish:function(){this.Mediator.publish(this.eventNameChange,this.currentRetailer)}},window.overwatch.SecondaryRetailerModel={Mediator:null,eventNameChange:null,retailerMap:null,currentRetailers:null,$doc:$(document),init:function(e){this.Mediator=e.Mediator,this.eventNameChange=e.eventNameChange,this.retailerMap=e.retailerMap,this.currentRetailers=e.currentRetailers||[]},getCurrentRetailers:function(){return this.currentRetailers},setCurrentRetailersByCountryCodeAndSkuIdAndPlatform:function(e,t,n){e=this.retailerMap[e]||[];0===(e=e.filter(function(e){return null===e.platform||e.platform===n}).filter(function(e){return void 0!==e.skuLinks[t]}).map(function(e){return{name:e.name,href:e.skuLinks[t]}})).length&&(e=null),this.setCurrentRetailers(e)},setCurrentRetailers:function(e){this.currentRetailers=e,this._publish()},_publish:function(){this.Mediator.publish(this.eventNameChange,this.currentRetailers)}},function(l,e,c,u){overwatch.buy=overwatch.buy||{},overwatch.buy.scroll=overwatch.buy.scroll||{},overwatch.buy.scroll.init=function(){var a=c(e),o=c(".learn-more-tip-container"),r=!1,s=0;a.on("ready",function(e){var t=1;function n(){t=0,a.off("scroll.learnmore"),o.velocity("fadeOut",{duration:200,easing:"easeOutQuart",complete:function(){o.detach()}})}r=c(".detail.active"),s=r.offset().top,o.on("click",function(e){e.preventDefault(),t&&(r=c(".detail.active"),s=r.offset().top,r.velocity("scroll",{duration:200,easing:"easeOutQuart"}),n())});var i=u.debounce(function(e){s<=a.scrollTop()&&(n(),c(l).off("scroll",i))},100);0<o.length&&c(l).on("scroll",i)})}}(window,window.document,window.jQuery,window._),window.overwatch=window.overwatch||{},window.overwatch.SkuModel={Mediator:null,eventNameChange:null,countrySkuMap:null,currentList:null,current:null,currentIndex:null,$doc:$(document),init:function(e){this.Mediator=e.Mediator,this.eventNameChange=e.eventNameChange,this.countrySkuMap=e.countrySkuMap,this.currentList=e.currentList,this.setCurrentById(e.defaultId)},getCurrent:function(){return this.current},getPrevious:function(){var e=this._mod(this.currentIndex-1,this.currentList.length);return this.currentList[e]},getNext:function(){var e=this._mod(this.currentIndex+1,this.currentList.length);return this.currentList[e]},getCurrentById:function(e){for(var t=this.currentList.length-1;0<=t;t--){var n=this.currentList[t];if(n.id===e)return n}console.error(e+" SKU not found.")},setCurrent:function(e){this.current=e,this.currentIndex=this.currentList.indexOf(e),this._publish()},setCurrentById:function(e){e=this.getCurrentById(e);this.setCurrent(e)},updateList:function(e){this.currentList=this.countrySkuMap[e],this.setCurrentById(this.current.id)},_publish:function(){this.Mediator.publish(this.eventNameChange,this.current)},_mod:function(e,t){return(e%t+t)%t}},function(a,o){a.overwatch.OriginsTrailers={init:function(e){var n={rel:0,autoplay:0,autohide:1,controls:1,modestbranding:1,showinfo:0,version:3,enablejsapi:1,wmode:"opaque"},i=e.$videoTrailer;a.overwatch.util,a.onYouTubeIframeAPIReady=function(){var e,t;e=i.data("ytId"),t=o("<div/>").appendTo(i),new a.YT.Player(t[0],{videoId:e,playerVars:n,events:{onReady:function(e){i.on("click",function(){e.target.playVideo(),i.toggleClass("active",!0)})}}}),i.on("click",function(e){e.preventDefault(),i.toggleClass("active",!0)})}}}}(window,(window.document,window.jQuery)),function(e){var r;e=e.app,r=[],e.extend({declarativeMutationObserver:{init:function(){document.querySelectorAll("[data-observation-target-selector]").forEach(function(i,e){var t=i.dataset.observationTargetSelector,a=i.dataset.observationTargetClass,o=i.dataset.observationToggleClass;document.querySelectorAll(t).forEach(function(e,t){var n=new MutationObserver(function(e){e.forEach(function(e){e.target.classList.contains(a)?i.classList.add(o):i.classList.remove(o)})});n.observe(e,{attributes:!0,attributeFilter:["class"]}),r.push(n)})})},disconnectAllObservers:function(){for(;0<r.length;)r.pop().disconnect()}}}),e.declarativeMutationObserver}(this),function(t,e){var n={targetElements:'[data-fadein="true"]',fadeInClass:"fadein-animation",win:$(t),init:function(){this.elements=$(this.targetElements),this.total=this.elements.length,this.visible=0,this.elements.addClass(this.fadeInClass),this.triggerFadeInOnVisibleElements(),this.setupEvents();var e=this;setTimeout(function(){e.triggerFadeInOnVisibleElements()},0)},setupEvents:function(){var e=this;$(t).on("scroll.fadein",_.throttle(function(){e.triggerFadeInOnVisibleElements()},100))},triggerFadeInOnVisibleElements:function(){this.elements.each(function(){var e=$(this);e.hasClass("is-visible")||$.isViewable(e,{percentH:.25})&&(e.addClass("is-visible"),self.visible++)}),this.visible>=this.total&&$(t).off("scroll.fadein")}};e.Fadein=n}(window,window.app,window.overwatch),function(e,t){var n=t.util,i=null,a=$("[hero-scene]"),o=a.find("#hero-scene"),r={scalarX:1,scalarY:1,frictionX:1,frictionY:1};e.extend({heroScene:{init:function(){a.on("mouseenter",function(){i?i.enable():!n.mobile()&&!n.touch()&&640<=n.width()&&(i=t.parallax=new Parallax(o[0],r))}),a.on("mouseleave",function(){i&&i.disable()}),t.extend({parallax:i})}}})}(this.app,this.overwatch),function(e,v){var f={init:function(e){var l=e.$section,c=e.$overlay,u=e.$overlayText,d=e.$overlayTextBorder,h=e.$overlayWrap,t=e.$selectionWrap,p=e.classLoaded;t.on("mouseenter",".selection-link",function(e){var t,n,i,a=$(this),o=a.data("hero-slug"),r=a.data("hero-role"),s=a.data("hero-role-id"),a=a.data("hero-overlay");"undefined"==o||v.util.mobile()||(l.addClass("overlay-ready"),c.attr("style",""),h.addClass("loading"),f.currentHero=o,a=a,t=o,n=function(e,t){f.currentHero==t&&(h.removeClass("loading"),c.attr("style","background-image:url("+e+")"))},i=new Image,$(i).load(function(){n&&n(i.src,t)}),i.src=a,l.addClass(p),u.find("h2").html(o),u.find("i").attr("class","icon role-"+s),u.find("p").text(r),u.addClass(p),d.addClass(p))}),t.on("mouseleave",".selection-link",function(){l.removeClass(p),u.removeClass(p),d.removeClass(p),h.removeClass("loading")}),$(".selection-item.is-highlighted").each(function(e,t){var i=$(t);i.find(".selection-link").each(function(e,t){var n=i;$(t).on("mouseenter",function(e){n.removeClass("is-highlighted"),$(this).off("mouseenter")})})})}};e.HeroSelect=f}(window,window.overwatch),function(){var i=function(){return this}(),e=i.app,o=(i.overwatch,'[data-js="horizontal-accordion-icon"]'),r='[data-js="horizontal-accordion-image"]',a='[data-js="horizontal-accordion-content"]';e.horizontalAccordion={hoverTimer:null,isHovering:!1,activeItem:null,init:function(e){var t=this,n=t.$columns=$('[data-js="horizontal-accordion-column"]',e);n.delayedHover(t.hoverColumn,t.hoverColumn,{timeout:100,self:t}).each(function(e){$(this).data("js-index",e)}),t.previousColumnIndex=0,t.toggleViewable(n),$(i).on("scroll.accordion",function(){n.eq(0).hasClass("is-viewable")&&$(i).off("scroll.accordion"),t.toggleViewable(n)})},toggleViewable:function(e){e.each(function(){var e=$(this);e.toggleClass("is-viewable",$.isViewable(e))})},hoverColumn:function(e){var t=e.data.self,e="delayedEnter"===e.type,n=$(this),i=$(o,n),a=$(r,n);n.hasClass("is-open")||(n.toggleClass("is-hover",e),i.toggleClass("is-hover",e),a.toggleClass("is-hover",e),(t.isHovering=e)&&t.prepareToOpenColumn(n))},prepareToOpenColumn:function(e){var t=this;clearTimeout(this.hoverTimer),this.hoverTimer=setTimeout(function(){t.isHovering&&t.openColumn(e)},400)},openColumn:function(e){var t=$(a,e);this.closeAllColumns(),this.previousColumnIndex=e.data("js-index"),e.toggleClass("is-open",!0),t.toggleClass("is-visible",!0)},closeAllColumns:function(){this.$columns.each(function(){var e=$(this),t=$(o,e),n=$(r,e),i=$(a,e);e.toggleClass("is-open",!1),i.toggleClass("is-visible",!1),t.toggleClass("is-hover",!1),n.toggleClass("is-hover",!1)})}}}(),function(e,t){var n,i,a,o=t.util,r={particles:{number:{value:25,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"image",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:e.messages.img.dva,width:285,height:298}},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1,opacity_min:.1,sync:!1}},size:{value:50,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:100,color:"#ffffff",opacity:.4,width:2},move:{enable:!0,speed:1,direction:"bottom",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:.5}},bubble:{distance:400,size:4,duration:.3,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0};n=[],i=$(e.document),a=$("body"),i.on("keydown",function(e){n.push(e.keyCode),0<=n.toString().indexOf("38,38,40,40,37,39,37,39,66,65")&&(a.addClass("konami"),i.off("keydown",arguments.callee),i.trigger("konami"))}),i.one("konami",function(){!o.mobile()&&!o.touch()&&640<o.width()&&(a.append('<div class="egg" id="egg-particles">'),particlesJS("egg-particles",r),new Audio(e.clientVars.codeFile).play())})}(this,(this.app,this.overwatch)),function(){var n={section:null,navItem:null,mapPanel:null,mapList:null,mapItem:null,init:function(){function e(){n.scrollTo(window.location.hash.slice(1))}n.section=$(".map.section"),n.controls=$(".map-controls"),n.navItem=$(".map-nav-item"),n.navItemDesc=$(".map-nav-description"),n.mapItem=$(".map"),n.getMap(),n.navItem.on("click",function(){var e=$(this).attr("data-map-type"),t=$(".map-info[data-map-type='"+e+"']").find(".map-list").find(".map-name").first().attr("data-map");n.updatePanel(e,t)}),n.mapItem.on("click",function(){n.updatePanel($(this).closest(".map-info").attr("data-map-type"),$(this).attr("data-map"))}),setTimeout(e,500),$(window).on("hashchange",function(){e()}),$(window).on("popstate",function(){e()})},updatePanel:function(e,t){$(".map-nav-item").removeClass("active"),$(".map-nav-description").removeClass("active"),$(".map-info").removeClass("active"),$(".map-screen").removeClass("active"),$(".map-nav-item[data-map-type='"+e+"']").addClass("active"),$(".map-nav-description[data-map-type='"+e+"']").addClass("active"),$(".map-info[data-map-type='"+e+"']").addClass("active"),$(".map-name[data-map='"+t+"']").addClass("active"),$(".map-screen[data-map="+t+"]").addClass("active"),n.getMap()},getMap:function(){var e=$(".map-screen.active").attr("data-map"),t=$(".map-screen.active").attr("data-map-type");n.mapItem.removeClass("active"),$(".map-info[data-map-type='"+t+"']").find(".map[data-map='"+e+"']").addClass("active")},scrollTo:function(e){var t;!e||(t=n.mapItem.filter(["[data-map=",e,"]"].join("")))[0]&&$("html, body").animate({scrollTop:$("#objectives").offset().top},200,function(){t.click()})}};window.Maps=n}((window,window.overwatch)),function(t,n){var i,a;function e(t,e){e=r(e);e&&e.addListener(function(e){if(e.matches)return t()})}function o(t,e){e=r(e);e&&e.addListener(function(e){if(!e.matches)return t()})}function r(e){if(!t.matchMedia)return null;var e=e||a.defaultMediaQuery;return e=n.util.removeWhitespace(e),i[e]||(e=e,e=n.util.removeWhitespace(e),i[e]=t.matchMedia(e))}t.MediaQuery=(i={},a={defaultMediaQuery:"(max-width: 760px)"},{supported:"function"==typeof t.matchMedia,config:a,onOrientationChange:function(e){t.addEventListener("orientationchange",e)},onMatch:e,onUnmatch:o,onMobile:e,onDesktop:o,getMql:r})}(window,window.overwatch,window.Utilities),function(e){e.Media={init:function(e){this.triggerHover()},triggerHover:function(){$(".wallpaper-list .media-wrap").on("touchend",function(e){$(this).addClass("hovered")})}}}(window,window.overwatch),function(){var e=function(){return this}(),o=(e.document,e.app,e.overwatch),a=e.$,r=e._,s=a(e);a.fn.verticalParallax=function(e,t,n){var i,a;o.util.mobile()||o.util.touch()||(void 0!==e&&"number"==typeof e||console.error("Error in $.fn.verticalParallax. Invalid value in parameter [ratio]. You must define a numeric rate at which you want the element to parallax, ex: .5"),i=this,a=e*(t=1===t||-1===t?t:1),s.on("scroll",r.throttle(function(){i.css({transform:"translateY("+Math.max(s.scrollTop(),0)*a*t+"px)"})},n="number"==typeof n?n:5)))},a('[data-js-parallax="true"]').each(function(){var e,t,n=a(this),i=parseFloat(n.data("parallaxRatio"));"number"==typeof i&&(e=parseInt(n.data("parallaxDirection"),10),t=parseInt(n.data("parallaxThrottle"),10),e=Number.isNaN(e)?null:e,t=Number.isNaN(t)?null:t,n.verticalParallax(i,e,t))})}(),function(e){e=e.app,e.extend({videoCustomLoop:{init:function(){function a(e,t){t=parseFloat(t),Number.isNaN(t)?console.error("VideoCustomLoop: timecode must be a number"):e.addEventListener("ended",function(){e.currentTime=parseFloat(t),e.play()})}$("video[data-loop-frame], video[data-loop-timecode]").each(function(e,t){var n=t.dataset.loopTimecode,i=t.dataset.loopFrame;void 0!==n?a(t,n):"undefined"!==i&&(n=t,t=i,t=parseInt(t,10),Number.isNaN(t)?console.error("VideoCustomLoop: frame must be an integer"):a(n,t*(1/29.97)))})}}}),e.videoCustomLoop}(this),function(e){function n(e){t=e,i=$(e).data(),n=function(){t.play()},n=i.videoPlayInViewOnce?a.util.once(n):n,i=-parseFloat(i.videoPlayInViewTopOffsetRatio)*function(e){return $(e).parent().get(0).offsetHeight}(t);var t,n={enterViewportHandler:n,top:i},i=o.create(e,n);return i.enterViewport(n.enterViewportHandler),i}var a,o;a=e.app,o=e.scrollMonitor,a.extend({videoPlayInView:{init:function(){$("video[data-video-play-in-view]").each(function(e,t){n(t)})},createVideoMonitor:n}}),a.videoPlayInView}(this),function(n,e){function i(e,t){return new YT.Player(e,{videoId:t,height:o.height,width:o.width,playerVars:o.playerVars})}function a(e){var t;"function"==typeof n.onYouTubeIframeAPIReady?(t=n.onYouTubeIframeAPIReady,n.onYouTubeIframeAPIReady=function(){t(),e()}):n.onYouTubeIframeAPIReady=e}var o={height:"100%",width:"100%",playerVars:{rel:0,modestbranding:1,autohide:1,color:"white"}};e.extend({youtubeIframePlayerEmbedder:{getPlayer:function(t,n,e){return new Promise(function(e){"undefined"==typeof YT||void 0===YT.Player?a(function(){e(i(t,n))}):e(i(t,n))})}}}),e.youtubeIframePlayerEmbedder}(window,window.app),function(i,n){function a(e){var n=e.$target,t=e.$placeholder,e=e.youtubeId;i.youtubeIframePlayerEmbedder.getPlayer(t.get(0),e).then(function(t){n.one("click",function(e){e.preventDefault(),t.addEventListener("onReady",function(){t.playVideo()})}),t.addEventListener("onReady",function(){n.on("click",function(e){e.preventDefault(),t.playVideo()})}),t.addEventListener("onStateChange",function(e){switch(e.data){case YT.PlayerState.PLAYING:case YT.PlayerState.BUFFERING:n.addClass("is-active");break;case YT.PlayerState.ENDED:n.removeClass("is-active"),i.util.fullscreenExit()}})})}var e="[data-js-youtube-player]",o=".youtubePlayer-placeholder";i.extend({youtubePlayer:{embed:a,init:function(){($target=n(e)).each(function(e,t){t=n(t);$placeholder=t.find(o),a({youtubeId:t.data("yt-id"),$target:t,$placeholder:$placeholder})})}}})}((window,window.app),window.jQuery),function(e){$(".News-loadMore a").click(function(){t++,$.get("/"+e.blizzard.urlLocale+"/news/next-posts",{page:t}).then(function(e){if($(".NewsList .NewsList-list").append(e.content),e.totalPages==e.page)return $(".News-loadMore").hide(),!1})});var t=2}(window,(window.app,window.overwatch)),function(r,e,t,s){e.extend({career:{currentComparisonKey:0,modes:["quickplay","competitive"],sections:["highlights","heroComparison","stats"],init:function(){this.setupDropdowns(),this.setupHeroListToggle(),this.setupProfileModes(),t.tooltip.init(),t.notification.init(),t.endorsementIcon.init()},setupDropdowns:function(){var o=this,e=s("[data-js=career-select]");e.each(function(){s(this).prop("selectedIndex",0)}),e.on("change",function(e){var t=s(this),n=t.val(),i=t.data("groupId"),a=null;(a="achievements"===i?s('.toggle-display[data-group-id="'+i+'"]'):s('.toggle-display[data-group-id="'+i+'"]',s("#"+o.currentMode))).removeClass("is-active"),a.filter('[data-category-id="'+n+'"]').addClass("is-active"),"stats"===i&&o.initializeStatsMasonry(),a=t.children("option").filter(":selected").attr("option-id"),r.dataLayer&&r.dataLayer.push({"career.mode":o.currentMode,"career.group":i,"career.option":a,event:"careerDropdown"})}),e.dropdown()},setupHeroListToggle:function(){s(".js-show-more-heroes").on("click",function(){var e=s(this),t=e.siblings(".progress-category");e.data("showMore")?(t.removeClass("is-partial"),e.data("showMore",!1)):(t.addClass("is-partial"),e.data("showMore",!0)),t=e.text(),e.text(e.data("label")),e.data("label",t),s(this).blur()})},setupProfileModes:function(){var n=this,i=s("#profile-btn-switcher a"),e=s('[data-js="heroMastheadImage"]');this.$modes=s();for(var t=0,a=this.modes.length;t<a;t++)this.$modes=this.$modes.add(s("#"+this.modes[t]));function o(){n.$modes.hide(),s("#"+n.currentMode).show(),e.removeClass(n.previousMode),e.addClass(n.currentMode),n.initializeStatsMasonry()}s(document.body).on("mode-change",function(e){o(),r.dataLayer&&r.dataLayer.push({"career.mode":n.currentMode,event:"careerTabSwitch"})}),this.currentMode=this.modes[0],this.previousMode=this.modes[0],o(),i.on("click",function(e){var t=s(this);return i.removeClass("is-active"),t.addClass("is-active"),n.previousMode=n.currentMode,n.currentMode=t.data("mode"),s(document.body).trigger("mode-change"),!1})},initializeStatsMasonry:function(){s(".js-stats:visible").masonry({itemSelector:".column"})}}})}(window,window.app,window.overwatch,window.jQuery,window._),function(t,e){e.extend({esports:{init:function(){this.setupVideoAnalytics(),t.overwatch.slideout.init(),t.overwatch.slideout.openSlideout("openDivision"),t.app.horizontalAccordion.init($('[data-id="esports-pathtopro-accordion"]'))},setupVideoAnalytics:function(){$("[data-js-youtube-player]").on("click",function(){var e=$(this).data("yt-id");t.dataLayer&&t.dataLayer.push({event:"videoClick",videoID:e,dataAnalyticsPlacement:"esports-trailer"})})}}})}(window,window.app,window.overwatch),function(t,e){function n(e){return t.matchMedia("(min-width: "+e+")").matches}e.extend({open:{init:function(){n("640px");$('[data-js="change-region"]').on("change",function(){var e=$(this).val();$(".js-region-block").addClass("is-hidden"),$(".js-region-block-"+e).removeClass("is-hidden")}),$(t).on("resize",function(){n("640px")})}}})}(window,window.app,window.overwatch),function(e){e.events=e.events||{},e.events.anniversary={init:function(){this.setupGameModeCards(),this.initSmoothScroll()},setupGameModeCards:function(){$('[data-js="game-mode-card"]').hide(),$('[data-js="game-mode-select"]').on("click",function(e){var t=$(this).data("gameModeId");$('[data-js="game-modes-index"]').hide(),$('[data-js="game-mode-card"]').hide(),$('[data-js="game-mode-card"][data-id='+t+"]").show().get(0).scrollIntoView({behavior:"smooth"})}),$('[data-js="game-modes-back"]').on("click",function(e){$('[data-js="game-mode-card"]').hide(),$('[data-js="game-modes-index"]').show().get(0).scrollIntoView({behavior:"smooth"})})},initSmoothScroll:function(){$('a[href*="#unlocks"]').on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500,"linear")})}}}(this.app),function(e){e.events=e.events||{},e.events.archives=e.events.archives||{},e.events.archives={init:function(){this.defineProps(),this.setupOverviewParallax(),this.initSmoothScroll()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewBackgroundImage=$('[data-js="event-overview-background-image"]'),this.$eventOverviewForegroundImage=$('[data-js="event-overview-foreground-image"]'),this.$eventOverviewPlayIcon=$('[data-js="overview-play-button"]')},setupOverviewParallax:function(){this.$eventLogoContainer.verticalParallax(.25),this.$eventOverviewBackgroundImage.verticalParallax(.9),this.$eventOverviewForegroundImage.verticalParallax(.7),this.$eventOverviewPlayIcon.verticalParallax(.5)},initSmoothScroll:function(){$('a[href*="#unlocks"]').on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500,"linear")})}}}(this.app),function(e){e.events=e.events||{},e.events.halloweenTerror=e.events.halloweenTerror||{},e.events.halloweenTerror={init:function(){this.defineProps(),this.setupOverviewParallax()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewForegroundImageLeft=$('[data-js="event-overview-foreground-image-left"]'),this.$eventOverviewForegroundImageRight=$('[data-js="event-overview-foreground-image-right"]'),this.$eventOverviewPlayIcon=$('[data-js="overview-play-button"]')},setupOverviewParallax:function(){this.$eventLogoContainer.verticalParallax(.25),this.$eventOverviewForegroundImageLeft.verticalParallax(.4),this.$eventOverviewForegroundImageRight.verticalParallax(.6),this.$eventOverviewPlayIcon.verticalParallax(.5)}}}(this.app),function(e){e.events=e.events||{},e.events.lunarnewyear=e.events.lunarnewyear||{},e.events.lunarnewyear={init:function(){this.defineProps(),this.setupOverviewParallax()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewBackgroundImage=$('[data-js="event-overview-background-image"]'),this.$eventOverviewForegroundImageLeft=$('[data-js="event-overview-foreground-image-left"]'),this.$eventOverviewForegroundImageRight=$('[data-js="event-overview-foreground-image-right"]'),this.$eventOverviewPlayIcon=$('[data-js="overview-play-button"]')},setupOverviewParallax:function(){this.$eventLogoContainer.verticalParallax(.25),this.$eventOverviewBackgroundImage.verticalParallax(.9),this.$eventOverviewForegroundImageLeft.verticalParallax(.8),this.$eventOverviewForegroundImageRight.verticalParallax(.7),this.$eventOverviewPlayIcon.verticalParallax(.5)}}}(this.app),function(e){e.events=e.events||{},e.events.summergames=e.events.summergames||{},e.events.summergames={init:function(){this.defineProps(),this.initSmoothScroll()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewForegroundImage=$('[data-js="event-overview-foreground-image"]')},initSmoothScroll:function(){$('a[href*="#unlocks"], a[href*="#weekly-challenges"]').on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500,"linear")})}}}(this.app),function(e){e.events=e.events||{},e.events.winterWonderland=e.events.winterWonderland||{},e.events.winterWonderland={init:function(){this.defineProps(),this.setupOverviewParallax()},defineProps:function(){this.$eventLogoContainer=$('[data-js="event-logo"]'),this.$eventOverviewBackgroundImage=$('[data-js="event-overview-background-image"]'),this.$eventOverviewForegroundImageLeft=$('[data-js="event-overview-foreground-image-left"]'),this.$eventOverviewForegroundImageRight=$('[data-js="event-overview-foreground-image-right"]'),this.$eventOverviewPlayIcon=$('[data-js="overview-play-button"]')},setupOverviewParallax:function(){this.$eventLogoContainer.verticalParallax(.25),this.$eventOverviewBackgroundImage.verticalParallax(.9),this.$eventOverviewForegroundImageLeft.verticalParallax(.8),this.$eventOverviewForegroundImageRight.verticalParallax(.7),this.$eventOverviewPlayIcon.verticalParallax(.5)}}}(this.app),function(e){e.events=e.events||{},e.events.base={platformId:null,init:function(){this.setupUnlocks(),this.markOwnedUnlocks()},setupUnlocks:function(){var o=this;$.get("/user/platforms",function(i){var a;i.platform?($("section#unlocks .event-unlock-user").removeClass("hide"),1<i.platforms.length&&($("#user-platforms").append('<div class="events-platform-selection button-group"></div>'),$(i.platforms).each(function(e,t){var n="button m-sm m-auto-width";t.platform===i.platform&&(n+=" is-active"),"summer-games"===clientVars.eventSlug||"anniversary"===clientVars.eventSlug?n+=" m-black-outline":n+=" m-white-outline",$("#user-platforms").children().first().append('<button class="'+n+'" data-js="unlock-platform-swap" data-platform-id="'+t.platform+'" data-event-slug='+clientVars.eventSlug+">"+t.platformName+"</button>")}),(a=$('[data-js="unlock-platform-swap"]')).on("click",function(e){var t=$(this),n=t.data("platformId");o.platformId=n,a.removeClass("is-active"),t.addClass("is-active"),o.markOwnedUnlocks()}))):$("section#unlocks .event-unlock-login").removeClass("hide")})},markOwnedUnlocks:function(){var i=this,e=this.platformId;$.get(e?"/user/unlocks/"+e:"/user/unlocks/",function(n){$("[data-media-id]").each(function(){var e=$(this).data("mediaId"),t=-1!==n.indexOf(e);i.updateUnlockFrame(e,t)})})},updateUnlockFrame:function(e,t){e=$("#"+e);t?(e.addClass("frame frame--inset"),e.attr("data-owned","true")):(e.removeClass("frame frame--inset"),e.attr("data-owned","false"))}}}(this.app),function(e){document.exitFullscreen=document.exitFullscreen||document.mozCancelFullscreen||document.webkitExitFullscreen||_.noop,e.Login={open:function(){e.location="?login"}},$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||null;$(document.body).toggleClass("is-fullscreen",e)}),e.svg4everybody({polyfill:!0}),app.videoCustomLoop.init(),app.videoPlayInView.init(),app.youtubePlayer.init()}(window,(window.overwatch,window.MainMenu)),function(l,e,o,c,r){var t={loadBackgroundVideo:function(){c(".video-background-wrapper .video-background-vid").load()}};t.loadTabs=function(){function n(e){"story"!==e&&"overview"!==e||(t.find(".tab").removeClass("is-active"),t.find(".tab[data-tab-name="+e+"]").addClass("is-active"),"overview"===e?($overviewContent.addClass("is-active"),$storyContent.removeClass("is-active")):($overviewContent.removeClass("is-active"),$storyContent.addClass("is-active")))}var e=l.location.hash.substr(1),i=c("#details"),a=i.find(".hero-detail-video"),o=i.find(".hero-detail-overview"),r=i.find(".hero-detail-background"),t=c("#details-tabs"),s=($overviewContent=c("#overview"),$storyContent=c("#story"),this.hero);t.find(".tab").on("click",function(e){var e=c(e.target).closest(".tab").data().tabName,t=i.data().ptr;return n(e),"story"===e&&l.dataLayer&&l.dataLayer.push({event:"heroStoryTab",tab:{name:s}}),t||("story"===e?(a.removeClass("is-active"),o.removeClass("is-active"),r.addClass("is-active")):(a.addClass("is-active"),o.addClass("is-active"),r.removeClass("is-active"))),!1}),n(e)},t.loadShowcase=function(){var t=c(".ability-showcase"),n=new o.AbilityShowcase(".ability-showcase"),i=!1,a=!1,e=r.debounce(function(){var e=t.is(":visible");e&&!i?(n.init(),a=i=!0):e&&!a?(n.play(),a=!0):e||(n.stop(),a=!1)},250);c(l).on("resize",e),e()},t.init=function(e){this.hero=e,this.loadTabs(),this.loadShowcase(),this.loadBackgroundVideo()},e.extend({hero_details:t})}(window,window.app,window.overwatch,window.jQuery,window._),function(e,t){var n={init:function(){t.HeroSelector.init({$container:document.querySelector("#heroes-selector-container"),$navigationLinks:document.querySelectorAll("#hero-selector-navigation-selector .navigation-link"),itemSelector:"#heroes-selector-container .hero-portrait-detailed-container"});var e=location.href.substr(location.href.indexOf("#")+1).toUpperCase();-1!==["DAMAGE","TANK","SUPPORT"].indexOf(e)&&t.HeroSelector.filter(e)}};e.extend({heroes:n})}((window,window.app),window.overwatch),function(e,t){var n={},i=(t.util,"js-paused");n.registerSpotlight=function(e){new t.Spotlight(e)},n.init=function(){Array.prototype.forEach.call(document.querySelectorAll("[data-js=spotlight]"),this.registerSpotlight),document.querySelector("[data-bgControl]").addEventListener("click",function(e){e.preventDefault();var t=this,e=t.getAttribute("data-bgControl"),e=document.querySelectorAll(e),n=t.classList.contains(i);e.forEach(function(e){n?(e.play(),t.classList.remove(i)):(e.pause(),t.classList.add(i))})})},e.extend({home:n})}((window,window.app),window.overwatch,(window.jQuery,window._)),function(t,e,a,n){e.extend({search:{searchResults:[],cacheElements:function(){this.$searchResultsArea=a(".search-results"),this.$searchResultsItemsArea=a("#search-result-items"),this.$searchUserMessages=a("#search-user-messages"),this.$searchResultsCountWrapper=a("#search-results-count-wrapper"),this.$searchResultsCount=a("#search-results-count"),this.$searchInitialMessage=a("#search-initial-message")},cacheTemplates:function(){this.searchResultItemTemplate=n.template(document.getElementById("search-result-item-template").innerHTML),this.generalErrorMessage=n.template(document.getElementById("search-result-fail-template").innerHTML)(),this.notFoundErrorMessage=n.template(document.getElementById("search-result-zero-template").innerHTML)(),this.platformNotFoundErrorMessage=n.template(document.getElementById("search-result-zero-platform-template").innerHTML)()},loadResults:function(e){var n=this,e="/"+clientVars.urlLocale+"/search/account-by-name/"+encodeURIComponent(e)+"/";n.searchResults=[],n.$searchUserMessages.hide(),n.$searchResultsItemsArea.hide(),a.ajax(e).done(function(e){e=e.map(n.transformResult.bind(n)),n.$searchResultsCountWrapper.show(),n.$searchResultsCount.text(e.length),n.searchResults=e,0!==n.searchResults.length?(n.generateResultHtml(n.searchResults),n.$searchResultsItemsArea.show(),n.$searchUserMessages.hide(),n.applyPlatformFilter()):(n.updateErrorMessage(n.notFoundErrorMessage),n.$searchResultsItemsArea.hide())}).fail(function(e,t){n.updateErrorMessage(n.generalErrorMessage)}).always(function(){n.$searchResultsArea.removeClass("is-loading"),n.$searchInitialMessage.hide()})},transformResult:function(e){var t="nintendo-switch"===e.platform?100:32;return e.svg_id=e.platform+"-icon",e.svg_width=t,e.avatar=(this.avatars[e.portrait]||this.avatars["0x02500000000002F7"]).icon,e},generateResultHtml:function(e){var t="";for(i=0,len=e.length;i<len;i++)t+=this.searchResultItemTemplate(e[i]);this.$searchResultsItemsArea.html(t)},updateErrorMessage:function(e){e&&(this.$searchUserMessages.html(e),this.$searchUserMessages.show())},applyPlatformFilter:function(){var e,t=a("input[name=filter]:checked"),n=0;0===t.length?((e=a(".player-badge-wrapper",this.$searchResultsItemsArea)).show(),this.$searchResultsCount.text(e.length),this.$searchUserMessages.hide()):(this.$searchResultsItemsArea.children().hide(),t.each(function(){var e=a(this).val(),e=a(".player-badge-wrapper[data-platform="+e+"]",this.$searchResultsItemsArea);n+=e.length,e.show()}),0===n?this.updateErrorMessage(this.platformNotFoundErrorMessage):this.$searchUserMessages.hide(),this.$searchResultsCount.text(n))},sort:function(e){sortedResults=n.orderBy(this.searchResults,[e.field],[e.order]),this.generateResultHtml(sortedResults)},setupEvents:function(){var t=this;t.$searchInitialMessage.show(),t.$searchResultsCountWrapper.hide(),a("[data-js=player_search]").on("submit",function(e){e.preventDefault();e=a(this).find("input[name=q]").val();t.$searchResultsArea.addClass("is-loading"),t.$searchInitialMessage.hide(),history.pushState(null,null,"/"+clientVars.urlLocale+"/search/?q="+e),t.loadResults(e)}),a("input[name=filter]").on("change",function(){0!==t.searchResults.length&&t.applyPlatformFilter()}),a('[data-js="sort-option"]').on("click",function(e){e.preventDefault(),a(this).siblings('[data-js="sort-option"]').removeClass("is-selected"),a(this).addClass("is-selected"),0!==t.searchResults.length&&(e=a(this).data("sortOption"),t.sort({field:e,order:"level"===e?"desc":"asc"}),t.applyPlatformFilter())})},init:function(e){this.avatars=e,this.cacheElements(),this.cacheTemplates(),this.setupEvents();e=t.location.search.substr(1).split("&").reduce(function(e,t){var t=t.split("="),n=t[0],t=t[1];return e[n]=t,e},{});e.hasOwnProperty("q")&&(a("input[name=q]").val(e.q),a("[data-js=player_search]").submit())}}})}(window,window.app,(window.overwatch,window.jQuery),window._);